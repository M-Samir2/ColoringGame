<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SVG Coloring Game</title>

<style>
body{
 margin:0;
 background:#222;
 color:#fff;
 font-family:Arial;
}

#editor{
 display:flex;
 flex-direction:column;
 height:100vh;
}

#top{
 background:#111;
 padding:6px;
 display:flex;
 gap:6px;
}

button{
 border:none;
 border-radius:8px;
 padding:8px 12px;
 font-size:14px;
}

#frame{
 flex:1;
 background:#333;
 display:flex;
 justify-content:center;
 align-items:center;
 overflow:hidden;
}

#svgFrame{
 border:4px solid #fff;
 background:#fff;
 touch-action:manipulation;
}

svg{
 width:300px;
 height:auto;
}

#tools{
 background:#111;
 padding:6px;
 display:flex;
 flex-direction:column;
 gap:6px;
}

#colors{
 display:grid;
 grid-template-columns:repeat(6,1fr);
 gap:6px;
}

.color{
 width:28px;
 height:28px;
 border-radius:50%;
 border:2px solid #555;
}
.color.active{border:3px solid #fff}
</style>
</head>

<body>

<div id="editor">
<div id="top">
<button onclick="undo()">↩️</button>
<button onclick="zoom(1.1)">➕</button>
<button onclick="zoom(0.9)">➖</button>
</div>

<div id="frame">
<div id="svgFrame">
<svg id="drawing" viewBox="0 0 300 300">

<!-- مثال صورة تلوين بسيطة -->
<path d="M50 50 L250 50 L250 250 L50 250 Z"
 fill="#fff" stroke="#000" stroke-width="4"/>

<circle cx="150" cy="150" r="60"
 fill="#fff" stroke="#000" stroke-width="4"/>

</svg>
</div>
</div>

<div id="tools">
<div id="colors"></div>
</div>
</div>

<script>
let currentColor="#ff0000";
let scale=1;
let history=[];

const svg=document.getElementById("drawing");

/* ===== COLORS ===== */
[
"#000","#f00","#0f0","#00f","#ff0","#0ff",
"#f0f","#ffa500","#8a2be2","#964b00","#fff","#888"
].forEach(c=>{
 let d=document.createElement("div");
 d.className="color";
 d.style.background=c;
 d.onclick=()=>{
  document.querySelectorAll(".color").forEach(x=>x.classList.remove("active"));
  d.classList.add("active");
  currentColor=c;
 };
 colors.appendChild(d);
});

/* ===== COLORING ===== */
svg.addEventListener("click",e=>{
 if(e.target.tagName==="path" || e.target.tagName==="circle"){
  history.push({
   el:e.target,
   color:e.target.getAttribute("fill")
  });
  e.target.setAttribute("fill",currentColor);
 }
});

/* ===== UNDO ===== */
function undo(){
 let last=history.pop();
 if(!last)return;
 last.el.setAttribute("fill",last.color);
}

/* ===== ZOOM ===== */
function zoom(v){
 scale*=v;
 scale=Math.max(1,Math.min(scale,4));
 document.getElementById("svgFrame")
  .style.transform=`scale(${scale})`;
}
</script>

</body>
</html>
